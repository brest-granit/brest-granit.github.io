var categories = [
  [
    'img/photo_rabot/primer (1).jpg',
    'img/photo_rabot/primer (2).jpg',
    'img/photo_rabot/primer (3).jpg',
    'img/photo_rabot/primer (4).jpg',
    'img/photo_rabot/primer (5).jpg',
    'img/photo_rabot/primer (6).jpg',
    'img/photo_rabot/primer (7).jpg',
    'img/photo_rabot/primer (8).jpg',
    'img/photo_rabot/primer (9).jpg',
    'img/photo_rabot/primer (10).jpg',
    'img/photo_rabot/primer (11).jpg',
    'img/photo_rabot/primer (12).jpg',
    'img/photo_rabot/primer (13).jpg',
    'img/photo_rabot/primer (14).jpg',
    'img/photo_rabot/primer (15).jpg',
    'img/photo_rabot/primer (16).jpg',
    'img/photo_rabot/primer (17).jpg',
    'img/photo_rabot/primer (18).jpg',
    'img/photo_rabot/primer (19).jpg',
    'img/photo_rabot/primer (20).jpg',
    'img/photo_rabot/primer (21).jpg',
    'img/photo_rabot/primer (22).jpg',
    'img/photo_rabot/primer (23).jpg',
    'img/photo_rabot/primer (24).jpg',
    'img/photo_rabot/primer (25).jpg',
    'img/photo_rabot/primer (26).jpg',
    'img/photo_rabot/primer (27).jpg',
    'img/photo_rabot/primer (28).jpg',
    'img/photo_rabot/primer (29).jpg',
    'img/photo_rabot/primer (30).jpg',
    'img/photo_rabot/primer (31).jpg',
    'img/photo_rabot/primer (32).jpg',
    'img/photo_rabot/primer (33).jpg',
    'img/photo_rabot/primer (34).jpg',
    'img/photo_rabot/primer (35).jpg',
    'img/photo_rabot/primer (36).jpg',
    'img/photo_rabot/primer (37).jpg',
    'img/photo_rabot/primer (38).jpg',
    'img/photo_rabot/primer (39).jpg',
    'img/photo_rabot/primer (40).jpg',
    'img/photo_rabot/primer (41).jpg',
    'img/photo_rabot/primer (42).jpg',
    'img/photo_rabot/primer (43).jpg',
    'img/photo_rabot/primer (44).jpg',
    'img/photo_rabot/primer (45).jpg',
    'img/photo_rabot/primer (46).jpg',
    'img/photo_rabot/primer (47).jpg',
    'img/photo_rabot/primer (48).jpg',
    'img/photo_rabot/primer (49).jpg',
    'img/photo_rabot/primer (50).jpg',
    'img/photo_rabot/primer (51).jpg',
    'img/photo_rabot/primer (52).jpg',
    'img/photo_rabot/primer (53).jpg',
    'img/photo_rabot/primer (54).jpg',
    'img/photo_rabot/primer (55).jpg',
    'img/photo_rabot/primer (56).jpg',
    'img/photo_rabot/primer (57).jpg',
    'img/photo_rabot/primer (58).jpg',
    'img/photo_rabot/primer (59).jpg',
    'img/photo_rabot/primer (60).jpg',
    'img/photo_rabot/primer (61).jpg',
    'img/photo_rabot/primer (62).jpg',
    'img/photo_rabot/primer (63).jpg',
    'img/photo_rabot/primer (64).jpg',
    'img/photo_rabot/primer (65).jpg',
    'img/photo_rabot/primer (66).jpg',
    'img/photo_rabot/primer (67).jpg',
    'img/photo_rabot/primer (68).jpg',
    'img/photo_rabot/primer (69).jpg',
    'img/photo_rabot/primer (70).jpg',
    'img/photo_rabot/primer (71).jpg',
    'img/photo_rabot/primer (72).jpg',
    'img/photo_rabot/primer (73).jpg',
    'img/photo_rabot/primer (74).jpg',
    'img/photo_rabot/primer (75).jpg',
    'img/photo_rabot/primer (76).jpg',
    'img/photo_rabot/primer (77).jpg',
    'img/photo_rabot/primer (78).jpg',
    'img/photo_rabot/primer (79).jpg',
    'img/photo_rabot/primer (80).jpg',
    'img/photo_rabot/primer (81).jpg',
    'img/photo_rabot/primer (82).jpg',
    'img/photo_rabot/primer (83).jpg',
    'img/photo_rabot/primer (84).jpg',
    'img/photo_rabot/primer (85).jpg',
    'img/photo_rabot/primer (86).jpg',
    'img/photo_rabot/primer (87).jpg',
    'img/photo_rabot/primer (88).jpg',
    'img/photo_rabot/primer (89).jpg',
    'img/photo_rabot/primer (90).jpg',
    'img/photo_rabot/primer (91).jpg',
    'img/photo_rabot/primer (92).jpg',
    'img/photo_rabot/primer (93).jpg',
    'img/photo_rabot/primer (94).jpg',
    'img/photo_rabot/primer (95).jpg',
    'img/photo_rabot/primer (96).jpg',
    'img/photo_rabot/primer (97).jpg',
    'img/photo_rabot/primer (98).jpg',
    'img/photo_rabot/primer (99).jpg',
    'img/photo_rabot/primer (100).jpg',
    'img/photo_rabot/primer (101).jpg',
    'img/photo_rabot/primer (102).jpg'
  ],
  [
    'img/photo_rabot/odin (5).jpg',
    'img/photo_rabot/odin (6).jpg',
    'img/photo_rabot/odin (7).jpg',
    'img/photo_rabot/odin (8).jpg',
    'img/photo_rabot/odin (9).jpg',
    'img/photo_rabot/odin (10).jpg',
    'img/photo_rabot/odin (11).jpg',
    'img/photo_rabot/odin (12).jpg',
    'img/photo_rabot/odin (22).jpg',
    'img/photo_rabot/odin (23).jpg',
    'img/photo_rabot/odin (24).jpg',
    'img/photo_rabot/odin (25).jpg',
    'img/photo_rabot/odin (26).jpg',
    'img/photo_rabot/odin (28).jpg',
    'img/photo_rabot/odin (29).jpg',
    'img/photo_rabot/odin (30).jpg',
    'img/photo_rabot/odin (34).jpg',
    'img/photo_rabot/odin (36).jpg',
    'img/photo_rabot/odin (38).jpg',
    'img/photo_rabot/odin (40).jpg',
    'img/photo_rabot/odin (41).jpg',
    'img/photo_rabot/odin (42).jpg',
    'img/photo_rabot/odin (43).jpg'
  ],
  [
    'img/photo_rabot/odin_v2 (5).jpg',
    'img/photo_rabot/odin_v2 (9).jpg',
    'img/photo_rabot/odin_v2 (14).jpg',
    'img/photo_rabot/odin_v2 (15).jpg',
    'img/photo_rabot/odin_v2 (17).jpg',
    'img/photo_rabot/odin_v2 (18).jpg',
    'img/photo_rabot/odin_v2 (20).jpg',
    'img/photo_rabot/odin_v2 (21).jpg',
    'img/photo_rabot/odin_v2 (22).jpg',
    'img/photo_rabot/odin_v2 (23).jpg',
    'img/photo_rabot/odin_v2 (24).jpg',
    'img/photo_rabot/odin_v2 (28).jpg',
    'img/photo_rabot/odin_v2 (30).jpg',
    'img/photo_rabot/odin_v2 (31).jpg',
    'img/photo_rabot/odin_v2 (32).jpg',
    'img/photo_rabot/odin_v2 (33).jpg',
    'img/photo_rabot/odin_v2 (35).jpg',
    'img/photo_rabot/odin_v2 (36).jpg',
    'img/photo_rabot/odin_v2 (37).jpg',
    'img/photo_rabot/odin_v2 (38).jpg',
    'img/photo_rabot/odin_v2 (39).jpg',
    'img/photo_rabot/odin_v2 (40).jpg',
    'img/photo_rabot/odin_v2 (41).jpg',
    'img/photo_rabot/odin_v2 (42).jpg',
    'img/photo_rabot/odin_v2 (43).jpg',
    'img/photo_rabot/odin_v2 (44).jpg',
    'img/photo_rabot/odin_v2 (45).jpg',
    'img/photo_rabot/odin_v2 (46).jpg'
  ],
  [
    'img/photo_rabot/dva (1).jpg',
    'img/photo_rabot/dva (2).jpg',
    'img/photo_rabot/dva (3).jpg',
    'img/photo_rabot/dva (4).jpg',
    'img/photo_rabot/dva (5).jpg',
    'img/photo_rabot/dva (6).jpg',
    'img/photo_rabot/dva (7).jpg',
    'img/photo_rabot/dva (10).jpg',
    'img/photo_rabot/dva (11).jpg',
    'img/photo_rabot/dva (14).jpg',
    'img/photo_rabot/dva (15).jpg',
    'img/photo_rabot/dva (16).jpg',
    'img/photo_rabot/dva (18).jpg',
    'img/photo_rabot/dva (21).jpg',
    'img/photo_rabot/dva (29).jpg',
    'img/photo_rabot/dva (30).jpg',
    'img/photo_rabot/dva (31).jpg',
    'img/photo_rabot/dva (32).jpg'
  ],
];

var currentCategory = 0;
var currentImageIndex = 0;
var isModalOpen = false;

function changeCategory(categoryIndex) {
  var buttons = document.getElementsByClassName('pamButtonNavigation');
  for (var i = 0; i < buttons.length; i++) {
    buttons[i].classList.remove('active');
  }

  buttons[categoryIndex].classList.add('active');
  currentCategory = categoryIndex;
  currentImageIndex = 0;
  showCurrentImage();
}

function changeImage(delta) {
  currentImageIndex += delta;

  if (currentImageIndex < 0) {
    currentImageIndex = categories[currentCategory].length - 1;
  } else if (currentImageIndex >= categories[currentCategory].length) {
    currentImageIndex = 0;
  }

  showCurrentImage();
}

function changeModalImage(delta) {
  currentImageIndex += delta;

  if (currentImageIndex < 0) {
    currentImageIndex = categories[currentCategory].length - 1;
  } else if (currentImageIndex >= categories[currentCategory].length) {
    currentImageIndex = 0;
  }

  showCurrentModalImage();
}

function showCurrentImage() {
  var image = document.getElementById('current-image');
  image.src = categories[currentCategory][currentImageIndex];
}

function showCurrentModalImage() {
  var modalImage = document.getElementById('modal-image');
  modalImage.src = categories[currentCategory][currentImageIndex];
}

function openModal() {
  var modal = document.getElementById('modal');
  var modalImage = document.getElementById('modal-image');
  var currentImage = document.getElementById('current-image').src;
  
  modal.style.display = 'flex';
  modalImage.src = currentImage;
  isModalOpen = true;
}

function closeModal() {
  var modal = document.getElementById('modal');
  modal.style.display = 'none';
  isModalOpen = false;
  showCurrentImage(); // Обновляем маленькое изображение
}

document.getElementById('current-image').addEventListener('click', function(e) {
  if (isModalOpen) {
    closeModal();
  } else {
    openModal();
  }
});

document.getElementById('modal').addEventListener('click', function(e) {
  if (e.target.id === 'modal') {
    closeModal();
  }
});

document.getElementById('modal-prev-button').addEventListener('click', function(e) {
  e.stopPropagation();
  changeModalImage(-1);
});

document.getElementById('modal-next-button').addEventListener('click', function(e) {
  e.stopPropagation();
  changeModalImage(1);
});

changeCategory(0);
